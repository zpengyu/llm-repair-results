    private boolean inSpecificScope(String[] targetNames, String[] baseTypes, String[] extraTypes) {
        if (extraTypes != null) {
            baseTypes = ArrayUtil.concat(baseTypes, extraTypes);
        }
        boolean inScope = false;
        for (int pos = stack.size() - 1; pos >= 0; pos--) {
            final String elName = stack.get(pos).nodeName();
            if (inSorted(elName, targetNames)) {
                inScope = true;
            } else if (inSorted(elName, baseTypes)) {
                return inScope;
            }
        }
        return false;
    }

