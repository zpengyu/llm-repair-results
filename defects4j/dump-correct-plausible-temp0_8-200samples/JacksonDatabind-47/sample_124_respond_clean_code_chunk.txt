    public JavaType refineSerializationType(final MapperConfig<?> config,
            final Annotated a, final JavaType baseType) throws JsonMappingException
    {
        JavaType type = baseType;
        final TypeFactory tf = config.getTypeFactory();
        // 10-Oct-2015, tatu: For 2.7, we'll need to delegate back to
        //    now-deprecated secondary methods; this because while
        //    direct sub-class not yet retrofitted may only override
        //    those methods. With 2.8 or later we may consider removal
        //    of these methods
        if (type != null) {
            final Class<?> serClass = findSerializationType(a);
            final Class<?> serKeyClass = findSerializationKeyType(a, type.getKeyType());
            final Class<?> serContentClass = findSerializationContentType(a, type.getContentType());
            if (serClass != null || serKeyClass != null || serContentClass != null) {
                type = modifyTypeByAnnotation(config, a, type, serClass, serKeyClass, serContentClass);
            }
        }
        return type;
    }