    Node processForInLoop(ForInLoop loopNode) {
      Node initializer;
      Node collection = transform(loopNode.getIteratedObject());
      Node body = transformBlock(loopNode.getBody());
      if (loopNode.isForEach()) {
        initializer = transform(loopNode.getIterator());
      } else {
        Node varNode = IR.name(loopNode.getIterator().getString());
        initializer = IR.var(varNode);
      }
      return newNode(Token.FOR, initializer, collection, body);
    }