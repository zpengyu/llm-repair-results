diff --git a/src/com/google/javascript/jscomp/parsing/IRFactory.java b/src/com/google/javascript/jscomp/parsing/IRFactory.java
index 32a15610..cc9f80a9 100644
--- a/src/com/google/javascript/jscomp/parsing/IRFactory.java
+++ b/src/com/google/javascript/jscomp/parsing/IRFactory.java
@@ -560,7 +557,9 @@ public class IRFactory {
       node.addChildToBack(bodyNode);
      return node;
     }
-
+    private int position2charno(int position) {
+      return position - offset;
+    }
     @Override
     Node processIfStatement(IfStatement statementNode) {
       Node node = newNode(Token.IF);
