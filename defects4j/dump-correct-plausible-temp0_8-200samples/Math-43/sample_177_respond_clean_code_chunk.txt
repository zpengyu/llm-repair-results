    public void addValue(double value) {
        sumImpl.increment(value);
        sumsqImpl.increment(value);
        minImpl.increment(value);
        maxImpl.increment(value);
        sumLogImpl.increment(value);
        secondMoment.increment(value);
        // If mean, variance or geomean have been overridden,
        // need to increment these
        if (!(meanImpl instanceof Mean)) {
            meanImpl.increment(value);
        }
        if (!(varianceImpl instanceof Variance)) {
            varianceImpl.increment(value);
        }
        if (!(geoMeanImpl instanceof GeometricMean)) {
            geoMeanImpl.increment(value);
        }
        n++;
        if (n == 1) {
            m1 = value;
            dev = 0;
        } else {
            m2 = m1;
            m1 = value;
            m4 = m3;
            dev = (m1 / n) - (m2 / (n - 1));
            if (n > 3) {
                m3 = m2 - m1;
                m4 -= m3 * m3 * (n - 1) * (n - 2) / ((n - 2) * (n - 3));
                if (m4 < 0) {
                    m4 = 0;
                }
                m4 *= n * (n - 1) / (n - 2) / (n - 3);
            }
        }
    }