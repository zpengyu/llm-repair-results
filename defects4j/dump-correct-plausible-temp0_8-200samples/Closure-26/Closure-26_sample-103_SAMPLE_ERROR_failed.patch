diff --git a/src/com/google/javascript/jscomp/ProcessCommonJSModules.java b/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
index f516e584..6639fb2f 100644
--- a/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
+++ b/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
@@ -121,11 +121,9 @@ public class ProcessCommonJSModules implements CompilerPass {
   /**
    * Visits require, every "script" and special module.exports assignments.
    */
-  private class ProcessCommonJsModulesCallback extends
+    private class ProcessCommonJsModulesCallback extends
       AbstractPostOrderCallback {
-
     private int scriptNodeCount = 0;
-
     @Override
     public void visit(NodeTraversal t, Node n, Node parent) {
       if (n.isCall() && n.getChildCount() == 2 &&
@@ -208,7 +197,7 @@ public class ProcessCommonJSModules implements CompilerPass {
       Node moduleExportsProp = IR.getprop(IR.name(moduleName),
           IR.string("module$exports"));
       script.addChildToBack(IR.ifNode(
-          moduleExportsProp,
+          IR.ne(moduleExportsProp, IR.nullNode()),
           IR.block(IR.exprResult(IR.assign(IR.name(moduleName),
               moduleExportsProp.cloneTree())))).copyInformationFromForTree(
           script));
