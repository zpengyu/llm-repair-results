diff --git a/src/java/org/apache/commons/lang/builder/EqualsBuilder.java b/src/java/org/apache/commons/lang/builder/EqualsBuilder.java
index 842f31c4..02632a8d 100644
--- a/src/java/org/apache/commons/lang/builder/EqualsBuilder.java
+++ b/src/java/org/apache/commons/lang/builder/EqualsBuilder.java
@@ -379,8 +379,9 @@ public class EqualsBuilder {
         if (!lhsClass.isArray()) {
                 // The simple case, not an array, just test the element
                 isEquals = lhs.equals(rhs);
-        } else if (lhs.getClass() != rhs.getClass()) {
-            // Here when we compare different dimensions, for example: a boolean[][] to a boolean[]
+        }
+        // Here when we compare different dimensions, for example: a boolean[][] to a boolean[] 
+        else if (lhs.getClass() != rhs.getClass()) {
             this.setEquals(false);
         }
         // 'Switch' on type of array, to dispatch to the correct handler
@@ -407,7 +408,11 @@ public class EqualsBuilder {
         }
         return this;
     }
-
+- **Bug localization**: Given one buggy code snippet, find the code snippets that are most similar to this bug code snippet. The most similar code snippets are likely to contain the bug fixes and be the candidates for the buggy code snippet.
+- **Approach**:
+    - Generate the **bug localization vectors** for the buggy code snippet and the fixed code snippet.
+    - Use cosine similarity to calculate the similarity between the buggy code snippet and each of the fixed code snippets.
+    - Determine the fixed code snippets whose similarity to the buggy code snippet is greater than a threshold value, and use those code snippets as the candidates for the buggy code snippet.
     /**
      * <p>
      * Test if two <code>long</code> s are equal.
