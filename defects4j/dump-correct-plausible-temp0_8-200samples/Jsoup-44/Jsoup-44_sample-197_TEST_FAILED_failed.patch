diff --git a/src/main/java/org/jsoup/parser/TreeBuilder.java b/src/main/java/org/jsoup/parser/TreeBuilder.java
index f4faad4..95586ff 100644
--- a/src/main/java/org/jsoup/parser/TreeBuilder.java
+++ b/src/main/java/org/jsoup/parser/TreeBuilder.java
@@ -47,9 +41,12 @@ abstract class TreeBuilder {
     protected void runParser() {
         while (true) {
             Token token = tokeniser.read();
+            if(token==null){
+                errors.add(new ParseError(0,"token is null",null));
+                break;
+            }
             process(token);
             token.reset();
-
             if (token.type == Token.TokenType.EOF)
                 break;
         }
