diff --git a/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java b/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java
index 9644ee8b5..ee14d900c 100644
--- a/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java
+++ b/src/main/java/org/apache/commons/math3/optimization/direct/CMAESOptimizer.java
@@ -902,7 +902,7 @@ public class CMAESOptimizer
      * fitness value if out of range. The penalty is adjusted by calling
      * setValueRange().
      */
-    private class FitnessFunction {
+private class FitnessFunction {
         /** Determines the penalty for boundary violations */
         private double valueRange;
         /**
@@ -1032,7 +1021,7 @@ public class CMAESOptimizer
         private double penalty(final double[] x, final double[] repaired) {
             double penalty = 0;
             for (int i = 0; i < x.length; i++) {
-                double diff = Math.abs(x[i] - repaired[i]);
+                double diff = repaired[i] - x[i];
                 penalty += diff * valueRange;
             }
             return isMinimize ? penalty : -penalty;
