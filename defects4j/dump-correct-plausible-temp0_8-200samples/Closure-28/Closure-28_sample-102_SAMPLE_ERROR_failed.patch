diff --git a/src/com/google/javascript/jscomp/InlineCostEstimator.java b/src/com/google/javascript/jscomp/InlineCostEstimator.java
index 17dc677f..2fd8aa15 100644
--- a/src/com/google/javascript/jscomp/InlineCostEstimator.java
+++ b/src/com/google/javascript/jscomp/InlineCostEstimator.java
@@ -99,5 +91,24 @@ class InlineCostEstimator {
      * Constants (true, false, null) are considered basically free,
      * because it's likely that they will get folded when we're done.
      */
-  }
-}
+    @Override
+    void addNumber(double x) {
+      if (Double.isNaN(x)) {
+        append("NaN");
+      } else if (x == Double.POSITIVE_INFINITY) {
+        append("Infinity");
+      } else if (x == Double.NEGATIVE_INFINITY) {
+        append("-Infinity");
+      } else {
+        append(Double.toString(x));
+      }
+    }
+    @Override
+    void addString(String s) {
+      append(NodeUtil.escapeString(s));
+    }
+    @Override
+    void addRegexp(String regexp, int flags) {
+      append(NodeUtil.regexpToString(regexp, flags));
+    }
+  }}
