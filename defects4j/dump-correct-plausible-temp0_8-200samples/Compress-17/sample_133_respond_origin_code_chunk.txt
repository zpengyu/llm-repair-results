    public static long parseOctal(final byte[] buffer, final int offset, final int length) {
        long result = 0;
        int i = offset;
        int end = offset + length;
        if (length < 2 || buffer[offset] == 0) {
            return 0;
        }
        while (i < end - 1 && buffer[i] == ' ') {
            i++;
        }
        while (i < end - 1 && buffer[end - 1] == ' ') {
            end--;
        }
        if (buffer[end - 1] == ' ' || buffer[end - 1] == 0) {
            end--;
        }
        if (buffer[end - 1] == ' ' || buffer[end - 1] == 0) {
            end--;
        }
        for (; i < end; i++) {
            byte currentByte = buffer[i];
            if (currentByte < '0' || currentByte > '7') {
                throw new IllegalArgumentException(
                        exceptionMessage(buffer, offset, length, i, currentByte));
            }
            result = (result << 3) + (currentByte - '0'); // convert from ASCII
        }
        return result;
    }
