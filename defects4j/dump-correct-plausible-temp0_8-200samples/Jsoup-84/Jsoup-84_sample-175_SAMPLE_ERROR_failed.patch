diff --git a/src/main/java/org/jsoup/helper/W3CDom.java b/src/main/java/org/jsoup/helper/W3CDom.java
index f866f43..5f76ec7 100644
--- a/src/main/java/org/jsoup/helper/W3CDom.java
+++ b/src/main/java/org/jsoup/helper/W3CDom.java
@@ -113,7 +111,12 @@ public class W3CDom {
                 // unhandled
             }
         }
-
+        public void tail(org.jsoup.nodes.Node source, int depth) {
+            if (source instanceof org.jsoup.nodes.Element && dest.getNodeName().equals(((org.jsoup.nodes.Element) source).tagName())) {
+                namespacesStack.pop(); // remove namespaces introduced by this element
+                dest = (Element) dest.getParentNode(); // pop
+            }
+        }
         public void tail(org.jsoup.nodes.Node source, int depth) {
             if (source instanceof org.jsoup.nodes.Element && dest.getParentNode() instanceof Element) {
                 dest = (Element) dest.getParentNode(); // undescend. cromulent.
