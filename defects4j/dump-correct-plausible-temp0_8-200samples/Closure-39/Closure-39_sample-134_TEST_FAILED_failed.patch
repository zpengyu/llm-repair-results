diff --git a/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java b/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
index 87a287c9..24b1363d 100644
--- a/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
+++ b/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
@@ -356,19 +356,21 @@ class PrototypeObjectType extends ObjectType {
     } else if (prettyPrint) {
       // Don't pretty print recursively.
       prettyPrint = false;
-
       // Use a tree set so that the properties are sorted.
       Set<String> propertyNames = Sets.newTreeSet();
+      Set<String> visitedTypes = Sets.newHashSet();
       for (ObjectType current = this;
            current != null && !current.isNativeObjectType() &&
                propertyNames.size() <= MAX_PRETTY_PRINTED_PROPERTIES;
            current = current.getImplicitPrototype()) {
+        if (visitedTypes.contains(current.getReferenceName())) {
+          break;
+        }
+        visitedTypes.add(current.getReferenceName());
         propertyNames.addAll(current.getOwnPropertyNames());
       }
-
       StringBuilder sb = new StringBuilder();
       sb.append("{");
-
       int i = 0;
       for (String property : propertyNames) {
         if (i > 0) {
