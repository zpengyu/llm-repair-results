    public char[] getTextBuffer()
    {
        if (_inputStart >= 0) {
            return _inputBuffer;
        }
        if (!_hasSegments) {
            return _currentSegment;
        }
        return contentsAsArray();
    }