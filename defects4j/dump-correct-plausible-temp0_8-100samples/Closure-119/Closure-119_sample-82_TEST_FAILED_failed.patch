diff --git a/src/com/google/javascript/jscomp/GlobalNamespace.java b/src/com/google/javascript/jscomp/GlobalNamespace.java
index a00893b3..bf78f7b1 100644
--- a/src/com/google/javascript/jscomp/GlobalNamespace.java
+++ b/src/com/google/javascript/jscomp/GlobalNamespace.java
@@ -357,7 +355,7 @@ class GlobalNamespace
                 return;
               case Token.FUNCTION:
                 Node gramps = parent.getParent();
-                if (gramps == null || NodeUtil.isFunctionExpression(parent)) {
+                if (gramps == null || !NodeUtil.isStatement(gramps)) {
                   return;
                 }
                 isSet = true;
