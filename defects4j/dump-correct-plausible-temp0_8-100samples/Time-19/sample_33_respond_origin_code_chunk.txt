	public int getOffsetFromLocal(long instantLocal) {
        final int offsetLocal = getOffset(instantLocal);
        final long instantAdjusted = instantLocal - offsetLocal;
        final int offsetAdjusted = getOffset(instantAdjusted);

        if (offsetLocal == offsetAdjusted) {
            return offsetLocal;
        }
        long nextLocal = nextTransition(instantAdjusted);
        if (nextLocal == (instantLocal - offsetLocal)) {
            return offsetLocal;
        }
        return offsetAdjusted;
    }
